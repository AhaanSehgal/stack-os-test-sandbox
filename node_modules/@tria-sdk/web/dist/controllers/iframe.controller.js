export class IframeController {
    constructor({ parentUrl, walletUrl }) {
        this.handleMessageFromIframe = (event, type) => {
            if (event.data.type === type) {
                return event.data.data;
            }
        };
        this.parentUrl = parentUrl;
        this.walletUrl = walletUrl;
    }
    triaLogin(name, password) {
        // wallet iframe trigger for auto wallet login
        const iframeUrl = `${this.walletUrl}/login?name=${name}&password=${password}&domain=${this.parentUrl}`;
        // window.open(iframeUrl);
        // Event listener for messages from the iframe
        window.addEventListener('message', (event) => this.handleMessageFromIframe(event, 'Log in'));
        return { iframeUrl };
    }
}
