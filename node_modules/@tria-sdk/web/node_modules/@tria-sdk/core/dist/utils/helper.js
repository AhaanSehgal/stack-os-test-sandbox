"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.filterNonEVM = exports.errorHandler = void 0;
const axios_1 = __importDefault(require("axios"));
const errorHandler = (err) => {
    if (axios_1.default.isAxiosError(err)) {
        const axiosError = err;
        if (axiosError.response) {
            // Axios error with response
            const errorResponse = axiosError.response;
            return errorResponse.data;
        }
        else if (axiosError.request) {
            // Axios error without response (e.g., network error)
            return { message: "something went wrong, please try again", success: false };
        }
        else {
            // Other Axios errors
            return { message: axiosError.message, success: false };
        }
    }
    else if (err instanceof Error) {
        // Other general JavaScript errors
        return { message: err.message, success: false };
    }
    else {
        // Other types of errors
        return { message: err, success: false };
    }
};
exports.errorHandler = errorHandler;
const filterNonEVM = (vault, chains) => {
    let accountKeys = {};
    for (let triaName of Object.keys(vault)) {
        accountKeys[triaName] = {};
        for (let commonSubname of getIntersectionOfTwoArray(chains, Object.keys(vault[triaName]))) {
            accountKeys[triaName][commonSubname] = vault[triaName][commonSubname];
        }
    }
    return accountKeys;
};
exports.filterNonEVM = filterNonEVM;
function getIntersectionOfTwoArray(array1, array2) {
    return array1.filter((value) => array2.includes(value));
}
